'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.BaseCommand=undefined;var _reporter=require('../../reporter');var _rearVersion=require('../../rear-version');var _rearVersion2=_interopRequireDefault(_rearVersion);var _commander=require('commander');var _commander2=_interopRequireDefault(_commander);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class BaseCommand{constructor(props){this.command=new _commander2.default.Command(`rear ${props.name}`);this.name=props.name;this.cmdUsage=props.usage;this.usage=`${this.name} ${this.cmdUsage}`;this.description=props.description;this.reporter=_reporter.Reporter;delete props.name;delete props.usage;delete props.description;this.props=Object.assign({},props);this.state={}}commandWillRun(){}async commandDidRun(args){}printHelp(){}async run(args){this.prepareCommand();this.commandWillRun();this.command.parse(['rear',this.name].concat(args));if(args.length===0||args.indexOf('-h')>=0||args.indexOf('--help')>=0){this.command.outputHelp();return Promise.resolve()}return await this.commandDidRun(args)}prepareCommand(){this.command.usage(this.cmdUsage);this.command.version(`${this.name}@v${_rearVersion2.default}`);this.command.on('--help',this.printHelp.bind(this))}}exports.BaseCommand=BaseCommand;exports.default=BaseCommand;